<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Block-Construction/Single-Slot-Finality">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Single Slot Finality | Manifold Finance Knowledgebase</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://kb.manifoldfinance.com/docs/Block-Construction/Single-Slot-Finality"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Single Slot Finality | Manifold Finance Knowledgebase"><meta data-rh="true" name="description" content="source//notes.ethereum.org/@vbuterin/singleslotfinality"><meta data-rh="true" property="og:description" content="source//notes.ethereum.org/@vbuterin/singleslotfinality"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://kb.manifoldfinance.com/docs/Block-Construction/Single-Slot-Finality"><link data-rh="true" rel="alternate" href="https://kb.manifoldfinance.com/docs/Block-Construction/Single-Slot-Finality" hreflang="en"><link data-rh="true" rel="alternate" href="https://kb.manifoldfinance.com/docs/Block-Construction/Single-Slot-Finality" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Manifold Finance Knowledgebase RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Manifold Finance Knowledgebase Atom Feed">





<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.182b03bc.css">
<link rel="preload" href="/assets/js/runtime~main.3600877d.js" as="script">
<link rel="preload" href="/assets/js/main.77c6b8dd.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Manifold Finance logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Manifold Finance logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Manifold Finance</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">KB</a><a class="navbar__item navbar__link" href="/docs/general/general-token">Protocol Overview</a><a class="navbar__item navbar__link" href="/docs/category/how-to-guides">Guides</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Block-Construction">Block Construction</a><a class="navbar__item navbar__link" href="/docs/Rpc/ref-json-rpc">RPC Methods</a><a class="navbar__item navbar__link" href="/docs/Protocol/protocol-backbonev01">Network Specification</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Ethereum</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/manifoldfinance/kb" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://t.me/manifoldfinance" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://forums.manifoldfinance.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Forums<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Manifold Finance Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/general---overview">General - Overview</a><button aria-label="Toggle the collapsible sidebar category &#x27;General - Overview&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/block-construction">Block Construction</a><button aria-label="Toggle the collapsible sidebar category &#x27;Block Construction&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Block-Construction/blockconstruction-intro">Block Construction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Block-Construction/">PBS Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Block-Construction/block-rewards">Rewards and Fee Recipient</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Block-Construction/blockconstruction-policies">Network Filtering and Policies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Block-Construction/blockconstruction-message-ordering">Block Construction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Block-Construction/Block-Sync">Sync &amp; The Merge</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Block-Construction/Find-Safe-Head">Finding the Safe Head</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Block-Construction/Single-Slot-Finality">Single Slot Finality</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/how-to-guides">How-to Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;How-to Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/community">Community</a><button aria-label="Toggle the collapsible sidebar category &#x27;Community&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/contracts---router">Contracts - Router</a><button aria-label="Toggle the collapsible sidebar category &#x27;Contracts - Router&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/mev">MEV</a><button aria-label="Toggle the collapsible sidebar category &#x27;MEV&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/developers">Developers</a><button aria-label="Toggle the collapsible sidebar category &#x27;Developers&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/protocol">Protocol</a><button aria-label="Toggle the collapsible sidebar category &#x27;Protocol&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/fold-token">FOLD Token</a><button aria-label="Toggle the collapsible sidebar category &#x27;FOLD Token&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/switchboard">Switchboard</a><button aria-label="Toggle the collapsible sidebar category &#x27;Switchboard&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/rpc--api">RPC &amp; API</a><button aria-label="Toggle the collapsible sidebar category &#x27;RPC &amp; API&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/reference">Reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Strategies/strat-sushiswap">Strategies</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/block-construction"><span itemprop="name">Block Construction</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Single Slot Finality</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Paths Toward single-slot finality</h1><blockquote><p>source: <a href="https://notes.ethereum.org/@vbuterin/single_slot_finality" target="_blank" rel="noopener noreferrer">https://notes.ethereum.org/@vbuterin/single_slot_finality</a></p></blockquote><p>Today, Ethereum blocks take 64-95 slots (~15 minutes) to finalize. This <a href="https://notes.ethereum.org/@vbuterin/serenity_design_rationale#Why-32-ETH-validator-sizes" target="_blank" rel="noopener noreferrer">was justified</a> as picking a medium not-bad-on-any-dimension tradeoff on the <a href="https://medium.com/@VitalikButerin/parametrizing-casper-the-decentralization-finality-time-overhead-tradeoff-3f2011672735" target="_blank" rel="noopener noreferrer">decentralization / finality time / overhead tradeoff curve</a>: 15 minutes is not too long and it’s comparable to existing exchanges’ confirmation times, it allows users to run nodes on regular computers, even with the large number of validators arising from a deposit size of 32 ETH (as opposed to the earlier value <a href="https://eips.ethereum.org/EIPS/eip-1011" target="_blank" rel="noopener noreferrer">of 1500 ETH</a>). However, there are a lot of good arguments for decreasing the finality time to a single slot. This is a state-of-research post reviewing some possible strategies for doing so.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-and-why-ethereum-staking-works-todayhow-and-why-ethereum-staking-works-today"><a href="https://notes.ethereum.org/@vbuterin/single_slot_finality#How-and-why-Ethereum-staking-works-today" target="_blank" rel="noopener noreferrer" title="How-and-why-Ethereum-staking-works-today"></a>How and why Ethereum staking works today<a class="hash-link" href="#how-and-why-ethereum-staking-works-todayhow-and-why-ethereum-staking-works-today" title="Direct link to heading">​</a></h2><p>Today, there are <a href="https://beaconcha.in/" target="_blank" rel="noopener noreferrer">~285,000 <strong>validators</strong></a>, accounts that have deposited <strong>32 ETH</strong> and as a result can participate in staking. Validators do not correspond one-to-one to users: wealthy stakers may control many hundreds of validators. The 32 ETH minimum limits the possible number of validator accounts, ensuring the chain still has the computational capacity to process them.</p><p>A new block gets added to the chain every <strong>slot</strong> (12 seconds). In every slot, there are also thousands of <strong>attestations</strong> that vote on the head of the chain. There is a <strong>fork choice rule</strong> called <a href="https://arxiv.org/abs/2003.03052" target="_blank" rel="noopener noreferrer">LMD GHOST</a> which takes as input these attestations, and determines the head of the chain. This parallel voting by thousands of attestations makes Ethereum much more robust than a traditional <em>longest-chain</em> system: unless there is an active attack or a huge network mishap, even a single slot is almost never reverted.</p><p>The attestations also have a second purpose: they act as votes in a massive consensus algorithm called <a href="https://arxiv.org/abs/1710.09437" target="_blank" rel="noopener noreferrer">Casper FFG</a>. Every <strong>epoch</strong> (32 slots, or 6.4 min), <em>all</em> active validators get a chance to attest once. After two rounds of this, if all goes well, an epoch (and all the blocks inside it) will be <strong>finalized</strong>. Once a block is finalized, reverting that block requires at least 1/3 of all validators to burn their deposits: <strong>a cost of attack of over ~3 million ETH</strong>.</p><p>Persistently censoring validators or transactions is similarly costly, though defending against censorship attacks requires extra-protocol intervention. If 51% of validators start censoring, the victims and users can coordinate on a <strong>minority soft fork</strong> where they build on each other’s blocks and ignore the attacker. On the minority soft fork, the attacker’s deposits would lose millions of ETH to an <strong>inactivity leak</strong>, and after a few weeks the chain resumes finalizing.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-try-to-implement-single-slot-finalitywhy-try-to-implement-single-slot-finality"><a href="https://notes.ethereum.org/@vbuterin/single_slot_finality#Why-try-to-implement-single-slot-finality" target="_blank" rel="noopener noreferrer" title="Why-try-to-implement-single-slot-finality"></a>Why try to implement single-slot finality?<a class="hash-link" href="#why-try-to-implement-single-slot-finalitywhy-try-to-implement-single-slot-finality" title="Direct link to heading">​</a></h2><p>There are a few key reasons to try to move away from the status quo and bring the finality time down to a single slot:</p><ul><li><strong>User experience</strong>. Most users are not willing to wait 15 minutes for finality. Today, even exchanges frequently consider deposits “finalized” after only 12-20 confirmations (~3-5 min), despite the low security assurance (compared to true PoS finalization) that 12-20 PoW confirmations offer. Single-slot finality would provide a very high degree of security at a speed that users are increasingly accustomed to expect.</li><li><strong>MEV reorg resistance</strong>. Single-slot finality would make it infeasible for even a majority to reorg the chain for MEV extraction purposes. LMD GHOST in the merge already makes this <em>difficult</em>, but single-slot finality makes this assurance much stronger and creates a strong and overwhelming disincentive deterring even a hostile majority from colluding and attacking. See <a href="https://www.paradigm.xyz/2021/07/ethereum-reorgs-after-the-merge/" target="_blank" rel="noopener noreferrer">this post</a> for a more detailed exposition of the argument.</li><li><strong>Opportunity to cut protocol complexity and bugs</strong>. The “interface” <a href="https://arxiv.org/abs/2003.03052" target="_blank" rel="noopener noreferrer">between Casper FFG finalization and LMD GHOST fork choice</a> is a source of significant complexity, leading to a number of attacks that have required fairly complicated patches to fix, with more weaknesses being <a href="https://ethresear.ch/t/balancing-attack-lmd-edition/11853" target="_blank" rel="noopener noreferrer">regularly discovered</a>. Single-slot finality offers an opportunity to create a cleaner relationship between a single-slot confirmation mechanism and the fork choice rule (which would only run in the <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≥</mo><mfrac><mn>1</mn><mn>3</mn></mfrac></mrow><annotation encoding="application/x-tex">\ge \frac{1}{3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span> offline case). Other sources of complexity (eg. shuffling into fixed-size committees) could also be cut.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="idea-1-single-slot-finality-through-super-committeesidea-1-single-slot-finality-through-super-committees"><a href="https://notes.ethereum.org/@vbuterin/single_slot_finality#Idea-1-single-slot-finality-through-super-committees" target="_blank" rel="noopener noreferrer" title="Idea-1-single-slot-finality-through-super-committees"></a>Idea 1: single-slot finality through super-committees<a class="hash-link" href="#idea-1-single-slot-finality-through-super-committeesidea-1-single-slot-finality-through-super-committees" title="Direct link to heading">​</a></h2><p><strong>Instead of <em>all</em> validators participating in each Casper FFG round, only a medium-sized super-committee of a few thousand validators participates, allowing each round of consensus to happen within a single slot.</strong> The technical idea was first introduced in <a href="https://ethresear.ch/t/a-model-for-cumulative-committee-based-finality/10259" target="_blank" rel="noopener noreferrer">this ethresear.ch post</a>. The post describes the idea in much more detail, but the core principles are as follows:</p><ul><li>Instead of the BFT consensus running every <em>epoch</em>, it runs every <em>slot</em>. This means that once a transaction is included in a block, after a <em>single slot</em> it would cost many thousands of ETH to revert that transaction.</li><li>We don’t rely on the full active validator set to finalize each slot. Instead, we rely on a randomly selected super-committee of a few thousand validators.</li><li>The fork choice rule (LMD GHOST) is only used in the exceptional case where a committee doesn’t confirm (this requires &gt;1/4 to be offline or malicious). If this happens, the fork choice rule governs which block is the head of the chain, and the committee gets inactivity-leaked until it confirms again.</li></ul><p><img loading="lazy" src="https://storage.googleapis.com/ethereum-hackmd/upload_3e4e25bcf33b0b0ceba47e25dcf64dec.png" class="img_ev3q"></p><p><em>If a committee fails to confirm, the chain keeps progressing using the fork choice to determine the head and the offline validators leak until their balances are diluted to the point where &gt; 2/3 of the remaining validator balances are online the committee can confirm.</em></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="secondary-benefits-of-switching-to-super-committeessecondary-benefits-of-switching-to-super-committees"><a href="https://notes.ethereum.org/@vbuterin/single_slot_finality#Secondary-benefits-of-switching-to-super-committees" target="_blank" rel="noopener noreferrer" title="Secondary-benefits-of-switching-to-super-committees"></a>Secondary benefits of switching to super-committees<a class="hash-link" href="#secondary-benefits-of-switching-to-super-committeessecondary-benefits-of-switching-to-super-committees" title="Direct link to heading">​</a></h3><p>Switching from a global validator set to super-committees has some secondary benefits:</p><ul><li><strong>The computational load of running a validator node becomes more stable</strong>. Instead of requirements being proportional to the total validator count, forcing validators to have beefy machines just in case the validator count greatly increases, the computational load will be stable, so validators know exactly what computational requirements they need.</li><li><strong>Most of the time, validators could withdraw instantly</strong>. Validators who are not currently part of a committee would be able to withdraw instantly (unless there are very many withdrawals going on and there is a queue). Even validators who are in a committee would be able to withdraw very quickly (1-5 min), because committees could rotate rapidly under single-slot finality. Only in truly exceptional situations (either an unexpected mass exit or an active ongoing attack) would validators be required to stay and continue protecting the chain until everything goes back to normal.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-big-do-the-super-committees-have-to-behow-big-do-the-super-committees-have-to-be"><a href="https://notes.ethereum.org/@vbuterin/single_slot_finality#How-big-do-the-super-committees-have-to-be" target="_blank" rel="noopener noreferrer" title="How-big-do-the-super-committees-have-to-be"></a>How big do the super-committees have to be?<a class="hash-link" href="#how-big-do-the-super-committees-have-to-behow-big-do-the-super-committees-have-to-be" title="Direct link to heading">​</a></h3><p>In terms of <em>validator count</em>, the answer is “big enough to be a secure committee” (so, <a href="https://eth.wiki/sharding/Sharding-FAQs#how-is-the-randomness-for-random-sampling-generated" target="_blank" rel="noopener noreferrer">a few hundred</a>). But the committees also have to be big enough <em>in terms of</em> . The amount of ETH that gets slashed and inactivity-leaked needs to be greater than the revenue that can be realistically gained from an attack, and it needs to be large enough to either deter or bankrupt powerful attackers that have large outside incentives to break the chain.</p><p>This question of how much ETH is required is inevitably a matter of intuition. Here are some questions you could ask to guide your intuition:</p><ul><li>Suppose that the Ethereum chain gets 51% attacked and the community needs to spend a few days coordinating an off-chain governance event to recover, but X percent of all ETH gets burned. How large does X need to be for this to be net-good for the Ethereum ecosystem?</li><li>Suppose a major exchange gets hacked for millions of ETH, and the attacker deposits the proceeds and gets over 51% of all validators. How many times should they be able to 51% attack the chain before all their stolen money is burned?</li><li>Suppose that a 51% attacker starts repeatedly re-orging the chain for only a short time to capture all the MEV. What level of cost per second do we want to impose on the attacker?</li><li><a href="https://www.joincolossus.com/episodes/14242194/drake-ethereum-into-the-ether?tab=transcript" target="_blank" rel="noopener noreferrer">Estimates from Justin Drake</a> suggest that the cost of <em>spawn-camp attacking</em> Bitcoin today (so, repeatedly 51% attacking until the community changes the PoW algorithm) is around $10 billion, or 1% of the market cap. How many times that level should the cost of <em>one-time 51% attacking</em> Ethereum be?</li></ul><p><img loading="lazy" src="https://storage.googleapis.com/ethereum-hackmd/upload_e3c156d9ef092dc3a97bce7e8dd70e35.png" class="img_ev3q"></p><p><em>Internal poll among Ethereum researchers.</em></p><p>A 1 million ETH cost of attack would imply a super-committee size of 2 million ETH (~65,536 validators) if we focus only on non-latency-dependent 51% attacks, and 3 million ETH (~97,152 validators) if we also include 34% attacks that involve complicated combinations of malicious validators and network manipulation. But if we want Ethereum chain load to remain the same as it is today (), this would correspond to a cost of attack of 96,000 to 144,000 ETH. There remains a large disparity between these two numbers.</p><p>Hence, unless the Ethereum community can be convinced that a lower cost of attacking Ethereum is acceptable (remember: attackers would still need to <em>control</em> over 50% of <em>all</em> staking ETH, this is just the amount they would <em>lose</em>), relying on this path alone seems difficult.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="idea-2-try-really-hard-to-make-very-high-attester-counts-workidea-2-try-really-hard-to-make-very-high-attester-counts-work"><a href="https://notes.ethereum.org/@vbuterin/single_slot_finality#Idea-2-try-really-hard-to-make-very-high-attester-counts-work" target="_blank" rel="noopener noreferrer" title="Idea-2-try-really-hard-to-make-very-high-attester-counts-work"></a>Idea 2: try really hard to make very high attester counts work<a class="hash-link" href="#idea-2-try-really-hard-to-make-very-high-attester-counts-workidea-2-try-really-hard-to-make-very-high-attester-counts-work" title="Direct link to heading">​</a></h2><p>Suppose that we actually do want to have a chain with a large number of validators participating per slot (say, 131,072 validators to get a conservative ~4M ETH). How would the performance numbers on that look like?</p><p><strong>It turns out that the <em>on-chain costs</em> of having a huge number of validators attesting per slot are less prohibitive than they seem</strong>:</p><ul><li>The state space required to store the validator records would be exactly the same as today (~150 bytes per validator)</li><li>Verifying a signature would require adding together a de-facto random subset of 131,072 pubkeys. Each elliptic curve addition could be done in ~1 microsecond, so this could be done in <strong>~130 milliseconds</strong>. This would need to be done twice per slot (or possibly a few more times if a block includes redundant attestations)</li><li>On-chain costs (specifically, computing the aggregate pubkey that the signature is verified against) can be optimized further if we assume that a validator who is active in slot N generally stays active in slot N+1; this would mean that for each slot we would only need to compute the <em>delta</em> between the old and new aggregate pubkey, which may consist of a few thousand or even only a few hundred validator pubkeys under good conditions. Even under worst-case conditions, at least 2x optimization (so, ~65 milliseconds) should always be possible.</li></ul><p>The biggest problem that remains is <em>signature aggregation</em>. There are 131,072 validators making and sending signatures, and these need to be quickly combined into a single large aggregate signature.</p><p>Today, aggregation is done in p2p subnets. Each size-256 committee has signatures aggregated in its own subnet. There are 16 randomly selected privileged aggregators who can make aggregates and submit them to the main subnet. The proposer then takes the best aggregate from each committee, and aggregates those together, making the single grand combined aggregate.</p><p><img loading="lazy" src="https://storage.googleapis.com/ethereum-hackmd/upload_c745904625619428d8601ea8a7a69fbc.png" class="img_ev3q"></p><p>This imposes a load in each subcommittee, where validators need to validate signatures individually (one pairing per signature) particularly in case of attacks flooding the network with invalid signatures, as well as in the global subnet, where the proposer must validate <code>16 * n</code> signatures if there are <code>n</code> committees.</p><p>Aggregation is likely to be a target of significant optimization over the next two years. Currently, the biggest practical bottleneck is the load in each subnet, especially for nodes that need to be in multiple subnets.</p><p>Two promising easy paths to get significant improvements are:</p><ol><li><strong>Increase the number of subnets</strong> to allow more total attestations without increasing the load per subnet. The load in the main subnet would increase, but this would be compensated for by <a href="https://github.com/ethereum/consensus-specs/pull/2792" target="_blank" rel="noopener noreferrer">dank-sharding</a>, which provides efficiencies by allowing all validators in a slot to make signatures over the same data, allowing those signatures to be batch-verified more easily.</li><li><strong>Change networking rules so that even a node with many validators only needs to participate in one subnet</strong>, giving room to increase both per-subnet load and subnet count. A validator only strictly <em>needs</em> to be subscribed to a subnet if they are an aggregator in it; a validator that is merely <em>publishing</em> to a subnet need only find an honest peer subscribed to that subnet, and need not subscribe to it themselves.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="more-specialized-aggregatorsmore-specialized-aggregators"><a href="https://notes.ethereum.org/@vbuterin/single_slot_finality#More-specialized-aggregators" target="_blank" rel="noopener noreferrer" title="More-specialized-aggregators"></a>More specialized aggregators<a class="hash-link" href="#more-specialized-aggregatorsmore-specialized-aggregators" title="Direct link to heading">​</a></h3><p>One possible more radical strategy for supporting far more validators is to turn signature aggregation into a more specialized role (similar to <a href="https://notes.ethereum.org/@vbuterin/pbs_censorship_resistance" target="_blank" rel="noopener noreferrer">block builders in PBS</a>), where we expect specialized actors to be persistently in many subnets each (or even all subnets) and do a good job of gathering signatures. These actors could be paid, or this could be a volunteer role (as the additional cost is very low for users who are staking many validators already).</p><p>A simple protocol for this is to allow validators to sign a <code>ProposedAggregate</code> message containing (i) an aggregate signature, (ii) a bitfield of who participated (only 16 kB assuming 131,072 validators) and (iii) a signature over these two objects signed by the aggregator.</p><p>Proposers would listen for <code>ProposedAggregate</code> messages, and verify the signature with the highest participant count. If it is valid, they include it. If the signature is invalid, the proposer would lose up to ~130 milliseconds verifying it and they would move on to verify the second-highest-participation aggregate (and if needed the third-highest, etc), and the aggregator(s) of all invalid <code>ProposedAggregate</code> messages could be slashed.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-we-get-therehow-do-we-get-there"><a href="https://notes.ethereum.org/@vbuterin/single_slot_finality#How-do-we-get-there" target="_blank" rel="noopener noreferrer" title="How-do-we-get-there"></a>How do we get there?<a class="hash-link" href="#how-do-we-get-therehow-do-we-get-there" title="Direct link to heading">​</a></h2><p>Moving to single-slot confirmations is a multi-year roadmap; even if implemented with a large amount of development effort starting soon, it would be one of the later big changes to be added to Ethereum, well after a complete rollout of proof of stake, sharding and Verkle trees. In general, the path to implementation would look roughly as follows:</p><ol><li><strong>Step up work on optimizing attestation aggregation</strong>. This is an important problem anyway, as the validator count is expected to increase. We need a more dedicated research and development effort on this problem regardless of what we do for any of the other steps.</li><li><strong>Agree on general parameters</strong>: what size of super-committee are we targeting (or would the super-committee be the set of <em>all</em> active validators, and we implement some different mechanism for controlling how many active validators there can be)? What level of overhead are we comfortable with, and what techniques would we use to reduce overhead?</li><li><strong>Research, agree on and specify an ideal consensus and fork choice mechanism for single-slot finality</strong>. This would combine together a BFT consensus mechanism (either Casper FFG or something more traditional) and a fork choice rule, where the fork choice rule would only be relevant in the case where <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≥</mo><mfrac><mn>1</mn><mn>3</mn></mfrac></mrow><annotation encoding="application/x-tex">\ge \frac{1}{3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span> of validators are offline.</li><li><strong>Agree on and execute on an implementation path</strong>. This could be multi-step, where one step introduces the super-committee mechanism and then the next step adds the full new consensus and aggregation mechanism.</li></ol><p>The benefits at the end would be very significant, and the technology could improve over time to achieve other benefits not described here (eg. using the increased maximum validator count to decrease the minimum deposit size). Hence, it’s worth starting deeper and more dedicated research and development on the technical challenges described in this post very soon.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/mev-boost">mev boost</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/eth-2">eth2</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/flashbots">flashbots</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/manifoldfinance/kb/tree/trunk/docs/Block-Construction/Single-Slot-Finality.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Block-Construction/Find-Safe-Head"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Finding the Safe Head</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/category/how-to-guides"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">How-to Guides</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-and-why-ethereum-staking-works-todayhow-and-why-ethereum-staking-works-today" class="table-of-contents__link toc-highlight">How and why Ethereum staking works today</a></li><li><a href="#why-try-to-implement-single-slot-finalitywhy-try-to-implement-single-slot-finality" class="table-of-contents__link toc-highlight">Why try to implement single-slot finality?</a></li><li><a href="#idea-1-single-slot-finality-through-super-committeesidea-1-single-slot-finality-through-super-committees" class="table-of-contents__link toc-highlight">Idea 1: single-slot finality through super-committees</a><ul><li><a href="#secondary-benefits-of-switching-to-super-committeessecondary-benefits-of-switching-to-super-committees" class="table-of-contents__link toc-highlight">Secondary benefits of switching to super-committees</a></li><li><a href="#how-big-do-the-super-committees-have-to-behow-big-do-the-super-committees-have-to-be" class="table-of-contents__link toc-highlight">How big do the super-committees have to be?</a></li></ul></li><li><a href="#idea-2-try-really-hard-to-make-very-high-attester-counts-workidea-2-try-really-hard-to-make-very-high-attester-counts-work" class="table-of-contents__link toc-highlight">Idea 2: try really hard to make very high attester counts work</a><ul><li><a href="#more-specialized-aggregatorsmore-specialized-aggregators" class="table-of-contents__link toc-highlight">More specialized aggregators</a></li></ul></li><li><a href="#how-do-we-get-therehow-do-we-get-there" class="table-of-contents__link toc-highlight">How do we get there?</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://t.me/manifoldfinance" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forums.manifoldfinance.coms" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discourse<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/foldfinance" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/manifoldfinance" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Manifold Finance, Inc & CommodityStream, Inc. All Rights Reservved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.3600877d.js"></script>
<script src="/assets/js/main.77c6b8dd.js"></script>
</body>
</html>